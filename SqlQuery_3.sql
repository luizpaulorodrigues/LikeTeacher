IF object_id(N'[dbo].[FK_dbo.tb_professores_dbo.tb_enderecos_EnderecoId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[tb_professores] DROP CONSTRAINT [FK_dbo.tb_professores_dbo.tb_enderecos_EnderecoId]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_CadeiraId' AND object_id = object_id(N'[dbo].[tb_professores]', N'U'))
    DROP INDEX [IX_CadeiraId] ON [dbo].[tb_professores]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_EnderecoId' AND object_id = object_id(N'[dbo].[tb_professores]', N'U'))
    DROP INDEX [IX_EnderecoId] ON [dbo].[tb_professores]
EXECUTE sp_rename @objname = N'dbo.tb_cadeiras.CadeiraId', @newname = N'ProfessorId', @objtype = N'COLUMN'
ALTER TABLE [dbo].[tb_enderecos] ADD [ProfessorId] [uniqueidentifier] NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000'
CREATE INDEX [IX_ProfessorId] ON [dbo].[tb_cadeiras]([ProfessorId])
CREATE INDEX [IX_ProfessorId] ON [dbo].[tb_enderecos]([ProfessorId])
ALTER TABLE [dbo].[tb_enderecos] ADD CONSTRAINT [FK_dbo.tb_enderecos_dbo.tb_professores_ProfessorId] FOREIGN KEY ([ProfessorId]) REFERENCES [dbo].[tb_professores] ([ProfessorID])
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.tb_professores')
AND col_name(parent_object_id, parent_column_id) = 'CadeiraId';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[tb_professores] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[tb_professores] DROP COLUMN [CadeiraId]
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.tb_professores')
AND col_name(parent_object_id, parent_column_id) = 'EnderecoId';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[tb_professores] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[tb_professores] DROP COLUMN [EnderecoId]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201802062020017_AutomaticMigration', N'LP.LikeTeacher.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400DD5C5B6FDB36147E1FB0FF20E871C8AC24458136B05BA44E5218CB0D7152EC2D60A46387A844B912152418F6CBF6B09FB4BFB043EB4689A2AC5B626FE84BCDCBC7C3C38F87A4CED7FEF3D7DFE3CFCF9E6B3C4110529F4DCC83D1BE6900B37D87B2E5C48CF8E2D70FE6E74F3FFF343E75BC67E35BDAEE9D68873D5938311F395F1D5956683F8247C29147EDC00FFD051FD9BE6711C7B70EF7F73F5A070716208489588631BE8918A71EAC7FE0CFA9CF6C58F188B817BE036E989463CD7C8D6A5C120FC215B161629E5F8FCEE977B8058255C168C61601199D104E4688C2E1999BC6B14B091A360777611A84319F138E661FDD8530E781CF96F3151610F7F66505D86E41DC1092E91CE5CD9BCE6CFF50CCCCCA3BA650761472DF6B0978F02E719555EEDEC9E166E64A74E6293A9DBF8859AF1D3A31A7C4011A10D3288F75347503D14E71F709B6A26CB446A2108E12843DA3B2DD5EC6182496F8B3674C239747014C18443C20EE9E711D3DB8D4FE0D5E6EFDEFC0262C725DD968341BEB0A0558741DF82B08F8CB0D2C8A539939A66115BB5BE5FE596FB56B3CE7AF11C5BF5FA225E4C1858C20562DCAA5EF410A802CC3FD631A17E4F91CD8923FE2CEDAC71D73469FC1494B12D43B4671BB61271E44D07AD46914847E4FCBF1E702C2D00FDAE25C9227BA5CF3A5CA2AD3B801775D1B3ED255BC1D53BEDC272DCE02DFBBF1DD7C11E28AFBB91F05B670A75F557B4B8225F0E6E66413AC35496AA59A95556A4DCB5B549937B6F2CD57BF2563C774DF90A2FF0E6CC79497AD37E300847EA3ADA8A77F4C89B0CF0E484954BD03521276A29844F4CE34CB30B64FB53C7C9DB4A75BA1730FCA4DAFCFEA187750225C4CB07EA1FFE66BCD881F5F61C0ED9C703307999F0E3B63FCDD616B885364A4FBF696DF820B0B9FD5FAECFD6B0C7CCCE9939F8EFAC5C7F841586B1071A5BE24A18DD774C633342C855BEAB5B749C0610C23215EC0DB83F50BB50D4F765DC855CFFEA6D69D320702B0FD6AF3D2DA6AFBD45AC5C08A26BD0E8614AFC7B990426CFF58482DE9720991FBF639144EAFFB05AE737F19E0832ECAB7CCDB45AFCBC8837CDC6EF67F2134D886ED532A1F1A6F37EE69C871B9061877C3F47C6FE542212E578C7538C858C33F0EEB5F63AD8362F93D5613379B04C563EC61D3B555C52326B9B01727898319B5EFD77871A4C3089708031E5D6188C3D127E62F8AE3749859F49730E3374411F14041C4A0882E61E293D7149D8D619632AE4650CA6CBA226EDDE0A54E6D9E7EC2E5D918E59A135801AE1BE375DEEC39783646E930D8E49DB12571A29E2A15E4D5AD6D1D93F305CE4FE4E6ACA9BB38E4C8D2F67A15FAE8AD68B28C356FBA563CD27BB99D15DB22947A83DD142B6AE9D423066D954C5A23DE924B5A0FEF2295E2C34D6444B00704E97D32BF9067C912E5AA7F174272DB0F932B42991B027A0E5C7982E5276A996F0ABD4A10226A5702C407DC86EE9973A10A4322E7061CE9B9A6A0E491B804222D80E293F4239FD4A6F22B60990F9BAE1599E1B2F715566DBA48C828C902941F4AC5C9359878D5F54D9DFDA673B2E94929CD405ABB1A47D49C8D1256814FBD5D52F11542CF87260ED187FAAEBC78056FA4F7EB2C04E5395D2B4EEAA6C95F4B93FD1D5F90D50A1F355236382931E6712A78FAEBBC7D52D48B312C3BACC88D66D66623713F204B28D58A279803673408B9F8AEF540C4FB67EA784AB38A80AB0941E980A598AAAE5D1A97D20EE2EF4974DF9419CFE2B17A622568673859F1AE5CCF1B543AA93DD7397AE292409F549DFA6EE4B10D69DA3AACF8C3B30C13973447C89E05055B746F053D4EE11897B16ACF7741F29283951B80B2B0A58D56264A331AC5617D6012551D594D2854DDEFB597AC3979B6B448727C1D76A5B4874983D5AAE9BB79739CE83647C50DBC860122A756587D51D0BCBF4890C9DDC5EFB70C3A49E64A86488A9A6324A92B1923296A8E91E7A16498BCB439529258926192A2E618E5BC920C26EAEEE5CA76B0797E4901CDAB7666DFE737D661777DF65269BFE9F55DB5FC94322505926AB32F7568EB844961C78B82E6FDE57C890C2397B788004906A4100392B2E628690E444649CB5A7886AAC1242D6B114D92FC4461A592B216B6C8E987824172C57FFC52A5BC5FCA4DB2D1B3774CE9BD324EDE0E9B25ADCA63226E621AE88027EA8887C4FC25E4E0C51B7DFEC39DBA14E79B37B8208CA2AB789C3215A99F0F2519ECEE4852AD3074DCAEBAD419C695E789F987F1E7B645A211A33F22A0E2A31D5D50087AC9699E48603F9240CD15F69383AA36EA1D2A008E8CD9EFF709C69E711520B38E8C7DF4F50092D24EB648382DECE92DB6ECC9B281B48F3BC0B0413485FDBC39B4BCAFB75725A95FE654FD9C67E1DD7AC023E336884050B7A40BECACFAEB3BF8C79D885805791F15675A1F71DF505695A57B95B8EFFB09F31E68FBC92A0FA418CA211C7857559EF4366A853684ACAC5F681856E2D53F30E472AF2E4456C55E43B1B928E5EA625B51C835D86DA520D31A0AB528C26A80DA517255857CD81E7937AF4A9D6550F18DAABD4649494A75132E74931768BE68BFAAB6E9FF256792EE7FDD74216A8EB6A310AA1303EABE94BFBE3A692715247DC44803B2E1EDA3C176B8D0262AEC8698484D816B3E7B973FEAE86542F1772FBC813E88DD9F9CA10FF7B646CB50AD23D2CB8874F0D5E217ADCAA85E63A4196455A3A2D0E9906A65489A7140A783796DA192EC7A29DFDB407E52A55BD94D2992428152AAB489F4A852B5B48B32A33E931D66655B6888D46FED18EFA4FF6402E36D48973984F82F2718D8854897B599B1859F46DD92456993D225FE02F0CD8161F038C01B3BB13956DBE8A5F53FC9F846DC68FD9DE2019C19BB8AF82AE23865F01EDC17D9192270D78DBF164A156D1E5FADD6FF7C628829A09954BCFCAFD89788BA4E66F759C5A34103214E84AF80E5F15AE201C361F992215D2AD9661D50E2BEEC20BB057C7D215878C5E6E409BAD87617C2392C89FD92A64CF4209B17A2E8F6F10925F874F7C20423EF8F3F91C38EF7FCE95F0901D2576B450000 , N'6.2.0-61023')

